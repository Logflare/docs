
# Querying in Logflare
## Live Search

When searching logs, you can turn your current search into a **Live Search**, which tails the source and streams new events that match the filter into the search results.


## Logflare Query Language (LQL)

The Logflare Query Language (LQL) is used within Logflare to power filtering capabilities for historical search and realtime streams.

### Event Message Filtering

Any string not matching a supported operator will search against the log event message. Some strings may need to be wrapped in double quotes. By default, all LQL statements are case sensitive.

| Field   | Filter                         | Syntax                          | Example                                           |
| ------- | ------------------------------ | ------------------------------- | ------------------------------------------------- |
| Message | match exact string             | word                            | `error`                                           |
| Message | match exact string with spaces | double quoted string            | `"staging error"`                                 |
| Message | match, regex                   | regex string                    | `~server\_\d`                                     |
| Message | match regex with spaces        | double quoted regex string      | `~"log message \d\d"`                             |
| Message | match regex, case insensitive  | regex string with `(?i)` prefix | `~(?i)server\_\d` <br/> `~"(?i)log message \d\d"` |
| Message | match regex, with OR           | regex string with `|` symbol    | `~"jpg$|jpeg$|png$"`                              |

### Metadata Filtering

You can use data in metadata fields to limit your search. Reference your schema for supported fields.

| Field    | Filter                                  | Syntax                                                                      | Example                                                                                                           |
| -------- | --------------------------------------- | --------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------- |
| Metadata | exact match                             | `path:value`                                                                | `m.response.status_code:500`                                                                                      |
| Metadata | match float, integer or datetime values | `path:>=value` <br/> `path:>value` <br/> `path:<=value` <br/> `path:<value` | `m.response.status_code:>300` <br/> `m.response.status_code:<=400` <br/> `m.user.created_at:>2019-07-01T00:15:00` |
| Metadata | match regex                             | `path:~regex`                                                               | `m.browser:~"Firefox 5\d"`                                                                                        |
| Metadata | match regex or                          | `path:~"value1|value2|value3"`                                              | `m.url:~"jpg$|jpeg$|png$"`                                                                                        |
| Metadata | match array includes                    | `path:@>value`                                                              | `m.user.roles:@>"new subscriber"`                                                                                 |
| Metadata | match does NOT include                  | `-path:value`                                                               | `-m.user.company:"My Company"`                                                                                    |
| Metadata | match boolean                           | `path:true` <br/> `path:false`                                              | `m.door_open:true`                                                                                                |
| Metadata | match NULL                              | `path:NULL`                                                                 | `m.user.plan:NULL`                                                                                                |

### Timestamp Filtering

Timestamps are not available when live search is active.

Timestamps will be automatically converted to UTC if Logflare is set to display local time.

| Field     | Filter                         | Example                                                         |
| --------- | ------------------------------ | --------------------------------------------------------------- |
| Timestamp | today, yesterday               | `t:today` <br/> `t:yesterday`                                   |
| Timestamp | last X time periods            | `t:last@100hours` <br/> `t:last@7days` <br/> `t:last@30minutes` |
| Timestamp | this calendar time period      | `t:this@week` <br/> `t:this@day` <br/> `t:this@month`           |
| Timestamp | date range                     | `t:2022-04-{07..09}`                                            |
| Timestamp | datetime range                 | `t:2022-04-{07..09}T00:{00..40}:00`                             |
| Timestamp | datetime range with subseconds | `t:2022-04-{07..09}T00:{00..40}:00.{001..314}`                  |
